(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{171:function(e,t,n){e.exports=n(399)},176:function(e,t,n){},177:function(e,t,n){},399:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(69),c=n.n(l),o=(n(176),n(2)),i=n(3),s=n(5),u=n(4),h=n(6),m=(n(177),n(31)),p=n(25),g=n(17),v=n.n(g),d=function e(){var t=this;Object(o.a)(this,e),this.signup=function(e,n){return t.service.post("/signup",{username:e,password:n}).then((function(e){return e.data}))},this.loggedin=function(){return t.service.get("/loggedin").then((function(e){return e.data}))},this.login=function(e,n){return t.service.post("/login",{username:e,password:n}).then((function(e){return e.data}))},this.logout=function(){return t.service.post("/logout",{}).then((function(e){return e.data}))};var n=v.a.create({baseURL:"http://localhost:5000/api",withCredentials:!0});this.service=n},E=n(7),f=n(18),b=Object(f.a)(),y=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state.username,a=n.state.password;n.service.signup(t,a).then((function(e){n.setState({username:"",password:""}),console.log("fhfhshfshfhsiuhfuishui",n.props),n.props.getUser(e),b.push("/dashboard")})).catch((function(e){return console.log(e)}))},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(p.a)({},a,r))},n.state={username:"",password:""},n.service=new d,n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("input",{type:"text",placeholder:"Username Here!",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("input",{type:"password",placeholder:"Secret Password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("input",{type:"submit",value:"Signup! What are you waiting for?"})),r.a.createElement("p",null,"Already have account?",r.a.createElement(E.a,{to:"/login"}," Login")))}}]),t}(a.Component),O=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state.username,a=n.state.password;n.service.login(t,a).then((function(e){console.log("WE LOGGED IN AND HERES THE USER ",e),n.setState({username:"",password:""}),n.props.getUser(e),b.push("/dashboard")})).catch((function(e){return console.log(e)}))},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(p.a)({},a,r))},n.state={username:"",password:""},n.service=new d,n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("input",{type:"text",placeholder:"Username Here!",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Secret Password",value:this.state.password,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("input",{type:"submit",value:"Login Dude"})),r.a.createElement("p",null,"Don't have account?",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(E.a,{to:"/signup"},"Signup!")))}}]),t}(a.Component);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var C=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).logoutUser=function(){n.service.logout().then((function(){n.setState({loggedInUser:null}),n.props.getTheUser(null)}))},n.state={loggedInUser:null},n.service=new d,n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.state,{loggedInUser:e.userInSession}))}},{key:"render",value:function(){var e=this;return this.state.loggedInUser?r.a.createElement("nav",{className:"nav-style"},r.a.createElement("ul",null,r.a.createElement("li",null,"Welcome, ",this.state.loggedInUser.username),r.a.createElement("li",null,r.a.createElement(E.a,{to:"/events",style:{textDecoration:"none"}},"Events")),r.a.createElement("li",null,r.a.createElement(E.a,{to:"/vehicles",style:{textDecoration:"none"}},"Vehicles")),r.a.createElement("li",null,r.a.createElement(E.a,{to:"/"},r.a.createElement("button",{onClick:function(){return e.logoutUser()}},"Logout"))))):r.a.createElement("nav",{className:"nav-style"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(E.a,{to:"/"}),r.a.createElement(E.a,{to:"/signup",style:{textDecoration:"none"}},"Signup")),r.a.createElement("li",null,r.a.createElement(E.a,{to:"/login",style:{textDecoration:"none"}},"Login"))))}}]),t}(a.Component),S=function(){return r.a.createElement("header",null,r.a.createElement("h1",null,"Landing Page"),r.a.createElement("h2",null,"EVENTPOOL"))},w=function(){return r.a.createElement("header",null,r.a.createElement("h1",null,"DASHBOARD"))},U=n(99),k=n.n(U),x=n(168),N=n(101),D=n(70),I=n.n(D);function A(e){var t=e.getCoord,n=r.a.useState(""),a=Object(N.a)(n,2),l=a[0],c=a[1],o=r.a.useState({lat:null,lng:null}),i=Object(N.a)(o,2),s=i[0],u=i[1],h=function(){var e=Object(x.a)(k.a.mark((function e(n){var a,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("value is ".concat(n)),e.next=3,Object(D.geocodeByAddress)(n);case 3:return a=e.sent,e.next=6,Object(D.getLatLng)(a[0]);case 6:r=e.sent,c(n),u(r),console.log("coordinates is ".concat(s.lat)),t(r);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(I.a,{value:l,onChange:c,onSelect:h},(function(e){var t=e.getInputProps,n=e.suggestions,a=e.getSuggestionItemProps,l=e.loading;return r.a.createElement("div",null,r.a.createElement("p",null,"Latitude: ",s.lat),r.a.createElement("p",null,"Longitude: ",s.lng),r.a.createElement("input",t({placeholder:"Type address"})),r.a.createElement("div",null,l?r.a.createElement("div",null,"...loading"):null,n.map((function(e){var t={backgroundColor:e.active?"#41b6e6":"#fff"};return r.a.createElement("div",a(e,{style:t}),e.description)}))))})))}var P=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state;t.eventName,t.description,t.category,t.location,t.lat,t.lng;v.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_URL:"https://app-tagpool.herokuapp.com//api",REACT_APP_GOOGLE_KEY:"AIzaSyCI23mZ-8p3w9pK49M4C9WkAKYwsSQ-a6k"}).REACT_APP_APi_URL,"/events"),n.state,{withCredentials:!0}).then((function(){n.props.getEvent(),n.setState({eventName:"",description:"",category:"",location:"",lng:"",lat:""})})).catch((function(e){return console.log(e)}))},n.setCoord=function(e){console.log("coord in parent: ",e),n.setState({lng:e.lng,lat:e.lat},(function(){return console.log("state in add event",n.state)}))},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(p.a)({},a,r))},n.state={eventName:"",description:"",category:"",location:"",lng:"",lat:""},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Event"),r.a.createElement("input",{type:"text",name:"eventName",placeholder:"Your Event's Name",value:this.state.eventName,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Description:"),r.a.createElement("textarea",{name:"description",value:this.state.description,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Category"),r.a.createElement("input",{type:"text",name:"category",value:this.state.category,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Location"),r.a.createElement("input",{type:"text",name:"location",value:this.state.location,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Submit"})),r.a.createElement(A,{getCoord:function(t){return e.setCoord(t)}}))}}]),t}(a.Component),L=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).getAllEvents=function(){v.a.get("".concat("https://app-tagpool.herokuapp.com//api","/events")).then((function(t){e.setState({listOfEvents:t.data})}))},e.state={listOfEvents:[]},e}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getAllEvents()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{width:"60%",float:"left"}},this.state.listOfEvents.map((function(e){return r.a.createElement("div",{key:e._id},r.a.createElement(E.a,{to:"/events/".concat(e._id)},r.a.createElement("h3",null,e.eventName)))}))),r.a.createElement("div",{style:{width:"40%",float:"right"}},r.a.createElement(P,{getEvent:this.getAllEvents})))}}]),t}(a.Component),T=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state.eventName,a=n.state.description,r=n.state.category,l=n.state.location;v.a.put("".concat("https://app-tagpool.herokuapp.com//api","/events/").concat(n.props.theEvent._id),{eventName:t,description:a,category:r,location:l}).then((function(){n.props.getTheEvent(),n.props.history.push("/events")})).catch((function(e){return console.log(e)}))},n.handleChangeEventName=function(e){n.setState({eventName:e.target.value})},n.handleChangeDescription=function(e){n.setState({description:e.target.value})},n.handleChangeCategory=function(e){n.setState({category:e.target.value})},n.handleChangeLocation=function(e){n.setState({location:e.target.value})},n.state={eventName:n.props.theEvent.eventName,description:n.props.theEvent.description,category:n.props.theEvent.category,location:n.props.theEvent.location},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("hr",null),r.a.createElement("h3",null,"Edit form"),r.a.createElement("form",{onSubmit:function(t){return e.handleFormSubmit(t)}},r.a.createElement("label",null,"Event Name:"),r.a.createElement("input",{type:"text",name:"eventName",value:this.state.eventName,onChange:function(t){return e.handleChangeEventName(t)}}),r.a.createElement("label",null,"Description:"),r.a.createElement("textarea",{name:"description",value:this.state.description,onChange:function(t){return e.handleChangeDescription(t)}}),r.a.createElement("label",null,"Category:"),r.a.createElement("textarea",{name:"category",value:this.state.category,onChange:function(t){return e.handleChangeCategory(t)}}),r.a.createElement("label",null,"Location:"),r.a.createElement("textarea",{name:"location",value:this.state.location,onChange:function(t){return e.handleChangeLocation(t)}}),r.a.createElement("input",{type:"submit",value:"Submit"})))}}]),t}(a.Component),_=n(71);function F(e){var t=e.theEvent.lat,n=e.theEvent.lng;console.log("The lat: ".concat(t," and the lng: ").concat(n));var a=Object(_.withScriptjs)(Object(_.withGoogleMap)((function(){return r.a.createElement(_.GoogleMap,{defaultZoom:10,defaultCenter:{lat:t,lng:n}})})));return r.a.createElement("div",{style:{width:"100vw",height:"100vh"}},r.a.createElement(a,{googleMapURL:"".concat("AIzaSyCI23mZ-8p3w9pK49M4C9WkAKYwsSQ-a6k"),loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"100%"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}))}var R=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).getSingleEvent=function(){var e=n.props.match.params;v.a.get("".concat("https://app-tagpool.herokuapp.com//api","/events/").concat(e.id)).then((function(e){var t=e.data;console.log("the event lat: ".concat(t.lat)),console.log("the event lng: ".concat(t.lng)),n.setState(t)})).catch((function(e){console.log(e)}))},n.renderEditForm=function(){if(n.state.eventName)return r.a.createElement(T,Object.assign({theEvent:n.state,getTheEvent:n.getSingleEvent},n.props));n.getSingleEvent()},n.deleteEvent=function(){var e=n.props.match.params;v.a.delete("http://localhost:5000/api/events/".concat(e.id)).then((function(){n.props.history.push("/events")})).catch((function(e){console.log(e)}))},n.ownershipCheck=function(e){if(n.props.loggedInUser&&e.owner===n.props.loggedInUser._id)return r.a.createElement("div",null,r.a.createElement("div",null,n.renderEditForm()," "),r.a.createElement("button",{onClick:function(){return n.deleteEvent(n.state._id)}},"Delete Event"))},n.renderEditForm=function(){if(n.state.eventName)return r.a.createElement(T,Object.assign({theEvent:n.state,getTheEvent:n.getSingleEvent},n.props));n.getSingleEvent()},n.state={theEvent:{}},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getSingleEvent()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,this.state.eventName),r.a.createElement("p",null,this.state.description),r.a.createElement("p",null,this.state.category),r.a.createElement("p",null,this.state.location),r.a.createElement("p",null,this.state.lat),r.a.createElement("p",null,this.state.lng),r.a.createElement(F,{theEvent:this.state}),r.a.createElement("h1",null,"Hello WOrld!!!!"),r.a.createElement(E.a,{to:"/events"},"Back to Events"))}}]),t}(a.Component),V=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state.vehicleType,a=n.state.model,r=n.state.year,l=n.state.seats;v.a.post("".concat("https://app-tagpool.herokuapp.com//api","/vehicles"),{vehicleType:t,model:a,year:r,seats:l},{withCredentials:!0}).then((function(){n.props.getVehicle(),n.setState({vehicleType:"",model:"",year:"",seats:0})})).catch((function(e){return console.log(e)}))},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(p.a)({},a,r))},n.state={vehicleType:"",model:"",year:"",seats:0},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Vehicle"),r.a.createElement("input",{type:"text",name:"vehicleType",value:this.state.vehicleType,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Model"),r.a.createElement("input",{type:"text",name:"model",value:this.state.model,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Year"),r.a.createElement("input",{type:"text",name:"year",value:this.state.year,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Seats"),r.a.createElement("input",{type:"number",name:"seats",value:this.state.seats,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("input",{type:"submit",value:"Submit"})))}}]),t}(a.Component),M=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).getAllVehicles=function(){v.a.get("".concat("https://app-tagpool.herokuapp.com//api","/vehicles")).then((function(t){e.setState({listOfVehicles:t.data})}))},e.state={listOfVehicles:[]},e}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getAllVehicles()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{width:"40%",float:"right"}},this.state.listOfVehicles.map((function(e){return r.a.createElement("div",{key:e._id},r.a.createElement(E.a,{to:"/vehicles/".concat(e._id)},r.a.createElement("h3",null,e.model)))}))),r.a.createElement("div",{style:{width:"40%",float:"right"}},r.a.createElement(V,{getVehicle:this.getAllVehicles})))}}]),t}(a.Component),W=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).getTheUser=function(e){n.setState({loggedInUser:e})},n.state={loggedInUser:null},n.service=new d,n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"fetchUser",value:function(){var e=this;null===this.state.loggedInUser&&this.service.loggedin().then((function(t){e.setState({loggedInUser:t})})).catch((function(t){e.setState({loggedInUser:!1})}))}},{key:"render",value:function(){var e=this;return console.log(this.state),this.fetchUser(),this.state.loggedInUser?r.a.createElement("div",{className:"App"},r.a.createElement(C,{userInSession:this.state.loggedInUser,getTheUser:this.getTheUser}),r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/dashboard",component:w}),r.a.createElement(m.a,{exact:!0,path:"/events",component:L}),r.a.createElement(m.a,{exact:!0,path:"/events/:id",component:R}),r.a.createElement(m.a,{exact:!0,path:"/vehicles",component:M}))):r.a.createElement("div",{className:"App"},r.a.createElement(C,{userInSession:this.state.loggedInUser}),r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:S}),"} />",r.a.createElement(m.a,{exact:!0,path:"/signup",render:function(){return r.a.createElement(y,{getUser:e.getTheUser})}}),r.a.createElement(m.a,{exact:!0,path:"/login",render:function(){return r.a.createElement(O,{getUser:e.getTheUser})}}),r.a.createElement(m.a,{exact:!0,path:"/events",component:L}),r.a.createElement(m.a,{exact:!0,path:"/events/:id",component:R})))}}]),t}(a.Component);c.a.render(r.a.createElement(m.b,{history:b},r.a.createElement(W,null)),document.getElementById("root"))}},[[171,1,2]]]);
//# sourceMappingURL=main.7acf031a.chunk.js.map